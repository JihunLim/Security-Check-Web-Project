<?xml version="1.0" encoding= "UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
 
<mapper namespace="egovframework.security.office.dao.SecurityOfficeDAO">
 
    <!--  #안에 있는 건 jsp내 form 안에 name 태그 설정 값을 써주면 됨 -->
 	<!-- 부서DB DAO_Mapper-->
    <select id="selectDeptDao" resultType="egovframework.security.dto.DeptDTO">
        SELECT DEPTNO, DEPTNAME FROM DEPT ORDER BY DEPTNO ASC
    </select>
 
    <insert id="insertDeptDao" parameterType="egovframework.security.dto.DeptDTO">
        INSERT into DEPT (deptName) values(#{deptName})
    </insert>
    
    <delete id="deleteDeptDao" parameterType="egovframework.security.dto.DeptDTO">
    	DELETE FROM DEPT WHERE DEPTNO = #{DEPTNO}
    </delete>
    
    
    <!-- 사무실보안점검DB DAO_Mapper-->
    <select id="selectOfficeSecurityDao" resultType="egovframework.security.dto.OfficeSecurityDTO">
        SELECT * FROM OfficeSecurity ORDER BY os_date ASC
    </select>
 
    <insert id="insertOfficeSecurityDao" parameterType="egovframework.security.dto.OfficeSecurityDTO">
        INSERT into OfficeSecurity values(default, #{os_empemail}, #{os_deptcode}, #{os_document}, #{os_clean}, #{os_lightout}, #{os_ventilation}, #{os_door}, #{os_etc}, default)
    </insert>
    
    <update id="updateOfficeSecurityDao" parameterType="egovframework.security.dto.OfficeSecurityDTO">
    	UPDATE OfficeSecurity set os_document=#{os_document},os_clean=#{os_clean},os_lightout=#{os_lightout},os_ventilation=#{os_ventilation},os_door=#{os_door},os_etc=#{os_etc},os_checktime=#{os_checktime} where os_date = #{os_date} and os_deptcode = #{os_deptcode}
    </update>
    
    <delete id="deleteOfficeSecurityDao" parameterType="egovframework.security.dto.OfficeSecurityDTO">
    	DELETE FROM OfficeSecurity WHERE os_date = #{os_date} and os_deptcode = #{os_deptcode}
    </delete>    
    
    <select id="findDeptDao" parameterType="String" resultType="hashmap">
    	select emp_deptcode from employee where emp_email = #{param1}
    </select>
    
    <!-- 당직근무일지DB DAO_Mapper-->
    
    <!-- 관리자DB DAO_Mapper-->
    
</mapper>
